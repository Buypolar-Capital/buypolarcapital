<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuyPolar Capital - Interactive Quantitative Finance Hub</title>
    
    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Chart Libraries -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --danger-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --dark-bg: #0a0e27;
            --card-bg: rgba(255, 255, 255, 0.05);
            --text-primary: #ffffff;
            --text-secondary: #b8c5d6;
            --border-color: rgba(255, 255, 255, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            overflow-x: hidden;
        }
        
        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.3) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(1deg); }
            66% { transform: translateY(10px) rotate(-1deg); }
        }
        
        /* Navigation */
        .navbar {
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
        }
        
        .navbar-brand {
            font-weight: 800;
            font-size: 1.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .nav-link {
            color: var(--text-secondary) !important;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-link:hover {
            color: var(--text-primary) !important;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-gradient);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        /* Hero Section */
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            padding: 2rem 0;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .hero-title {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeInUp 1s ease-out;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease-out 0.2s both;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Interactive Cards */
        .interactive-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .interactive-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .interactive-card:hover::before {
            left: 100%;
        }
        
        .interactive-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        /* Chart Containers */
        .chart-container {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }
        
        .chart-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        /* Market Stats */
        .market-stat {
            text-align: center;
            padding: 1.5rem;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .positive { color: #00d4aa; }
        .negative { color: #ff6b6b; }
        .neutral { color: #ffd93d; }
        
        /* Floating Elements */
        .floating-element {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-element:nth-child(2) {
            animation-delay: -2s;
        }
        
        .floating-element:nth-child(3) {
            animation-delay: -4s;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .interactive-card {
                padding: 1.5rem;
            }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--dark-bg);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-gradient);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-gradient);
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>
    
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-chart-line me-2"></i>
                BuyPolar Capital
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#market-overview">Market Overview</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#strategies">Strategies</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#research">Research</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#education">Education</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/yourusername/buypolarcapital" target="_blank">
                            <i class="fab fa-github"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1 class="hero-title">Interactive Quantitative Finance Hub</h1>
                        <p class="hero-subtitle">
                            Advanced trading algorithms, real-time market analysis, and interactive visualizations 
                            for quantitative finance professionals and enthusiasts.
                        </p>
                        <div class="d-flex gap-3">
                            <a href="#market-overview" class="btn btn-primary btn-lg">
                                <i class="fas fa-chart-bar me-2"></i>
                                Explore Markets
                            </a>
                            <a href="https://github.com/yourusername/buypolarcapital" class="btn btn-outline-light btn-lg" target="_blank">
                                <i class="fab fa-github me-2"></i>
                                View Code
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="interactive-card">
                        <div id="hero-chart" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Market Overview Section -->
    <section id="market-overview" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold mb-3">Live Market Overview</h2>
                <p class="lead text-muted">Real-time market data and interactive visualizations</p>
            </div>
            
            <!-- Market Stats -->
            <div class="row mb-5">
                <div class="col-lg-3 col-md-6">
                    <div class="market-stat">
                        <div class="stat-value positive" id="spy-value">+0.85%</div>
                        <div class="stat-label">S&P 500 (SPY)</div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="market-stat">
                        <div class="stat-value negative" id="btc-value">-2.34%</div>
                        <div class="stat-label">Bitcoin (BTC)</div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="market-stat">
                        <div class="stat-value positive" id="gold-value">+0.67%</div>
                        <div class="stat-label">Gold (GLD)</div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="market-stat">
                        <div class="stat-value neutral" id="tlt-value">-0.12%</div>
                        <div class="stat-label">Bonds (TLT)</div>
                    </div>
                </div>
            </div>
            
            <!-- Interactive Charts -->
            <div class="row">
                <div class="col-lg-8">
                    <div class="chart-container">
                        <h3 class="chart-title">Global Market Performance</h3>
                        <div id="global-performance-chart" style="height: 400px;"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="chart-container">
                        <h3 class="chart-title">Asset Allocation</h3>
                        <div id="allocation-chart" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-lg-6">
                    <div class="chart-container">
                        <h3 class="chart-title">Volatility Analysis</h3>
                        <div id="volatility-chart" style="height: 300px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="chart-container">
                        <h3 class="chart-title">Correlation Matrix</h3>
                        <div id="correlation-chart" style="height: 300px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Strategies Section -->
    <section id="strategies" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold mb-3">Trading Strategies</h2>
                <p class="lead text-muted">Interactive strategy performance and backtesting</p>
            </div>
            
            <div class="row">
                <div class="col-lg-6">
                    <div class="chart-container">
                        <h3 class="chart-title">Strategy Performance Comparison</h3>
                        <div id="strategy-performance-chart" style="height: 400px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="chart-container">
                        <h3 class="chart-title">Risk-Return Analysis</h3>
                        <div id="risk-return-chart" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-12">
                    <div class="chart-container">
                        <h3 class="chart-title">Strategy Backtesting Results</h3>
                        <div id="backtesting-chart" style="height: 500px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Research Section -->
    <section id="research" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold mb-3">Research & Analysis</h2>
                <p class="lead text-muted">Advanced quantitative research and market insights</p>
            </div>
            
            <div class="row">
                <div class="col-lg-4">
                    <div class="interactive-card">
                        <h4><i class="fas fa-chart-line me-2"></i>Technical Analysis</h4>
                        <div id="technical-analysis-chart" style="height: 250px;"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="interactive-card">
                        <h4><i class="fas fa-brain me-2"></i>ML Predictions</h4>
                        <div id="ml-predictions-chart" style="height: 250px;"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="interactive-card">
                        <h4><i class="fas fa-chart-pie me-2"></i>Sector Analysis</h4>
                        <div id="sector-analysis-chart" style="height: 250px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Education Section -->
    <section id="education" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold mb-3">Interactive Learning</h2>
                <p class="lead text-muted">Learn quantitative finance through interactive tools</p>
            </div>
            
            <div class="row">
                <div class="col-lg-6">
                    <div class="interactive-card">
                        <h4><i class="fas fa-question-circle me-2"></i>Daily Finance Quiz</h4>
                        <div id="quiz-container">
                            <div class="mb-3">
                                <h5 id="quiz-question">What is the Sharpe ratio used to measure?</h5>
                                <div class="d-grid gap-2">
                                    <button class="btn btn-outline-light quiz-option" data-correct="true">Risk-adjusted return</button>
                                    <button class="btn btn-outline-light quiz-option" data-correct="false">Total return</button>
                                    <button class="btn btn-outline-light quiz-option" data-correct="false">Volatility</button>
                                    <button class="btn btn-outline-light quiz-option" data-correct="false">Beta</button>
                                </div>
                            </div>
                            <div id="quiz-result" class="alert" style="display: none;"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="interactive-card">
                        <h4><i class="fas fa-calculator me-2"></i>Financial Calculator</h4>
                        <div id="calculator-container">
                            <div class="mb-3">
                                <label class="form-label">Initial Investment</label>
                                <input type="number" class="form-control" id="initial-investment" value="10000">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Annual Return (%)</label>
                                <input type="number" class="form-control" id="annual-return" value="8">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Years</label>
                                <input type="number" class="form-control" id="years" value="10">
                            </div>
                            <button class="btn btn-primary" onclick="calculateCompound()">Calculate</button>
                            <div id="calculation-result" class="mt-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-5 border-top border-secondary">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="mb-3">BuyPolar Capital</h5>
                    <p class="text-muted">Empowering quantitative finance research and education through advanced algorithms and interactive analysis.</p>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-twitter fa-lg"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="mb-3">Resources</h6>
                    <ul class="list-unstyled">
                        <li><a href="#market-overview" class="text-muted text-decoration-none">Market Overview</a></li>
                        <li><a href="#strategies" class="text-muted text-decoration-none">Strategies</a></li>
                        <li><a href="#research" class="text-muted text-decoration-none">Research</a></li>
                        <li><a href="#education" class="text-muted text-decoration-none">Education</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="mb-3">Asset Classes</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-muted text-decoration-none">Equities</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Fixed Income</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Commodities</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Crypto</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 mb-4">
                    <h6 class="mb-3">Newsletter</h6>
                    <p class="text-muted">Stay updated with the latest research and market insights.</p>
                    <div class="input-group">
                        <input type="email" class="form-control" placeholder="Enter your email">
                        <button class="btn btn-primary" type="button">Subscribe</button>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="text-muted mb-0">&copy; 2024 BuyPolar Capital. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-muted text-decoration-none me-3">Privacy Policy</a>
                    <a href="#" class="text-muted text-decoration-none">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Initialize all charts and interactive elements
        document.addEventListener('DOMContentLoaded', function() {
            initializeHeroChart();
            initializeGlobalPerformanceChart();
            initializeAllocationChart();
            initializeVolatilityChart();
            initializeCorrelationChart();
            initializeStrategyPerformanceChart();
            initializeRiskReturnChart();
            initializeBacktestingChart();
            initializeTechnicalAnalysisChart();
            initializeMLPredictionsChart();
            initializeSectorAnalysisChart();
            initializeQuiz();
            updateMarketStats();
            
            // Auto-refresh market data every 30 seconds
            setInterval(updateMarketStats, 30000);
        });

        // Hero Chart - Animated line chart
        function initializeHeroChart() {
            const trace = {
                x: Array.from({length: 100}, (_, i) => i),
                y: Array.from({length: 100}, (_, i) => Math.sin(i * 0.1) * 10 + Math.random() * 5 + 100),
                type: 'scatter',
                mode: 'lines',
                line: {
                    color: '#667eea',
                    width: 3
                },
                fill: 'tonexty',
                fillcolor: 'rgba(102, 126, 234, 0.1)'
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false, zeroline: false},
                yaxis: {showgrid: false, zeroline: false},
                margin: {l: 40, r: 40, t: 40, b: 40},
                showlegend: false
            };

            Plotly.newPlot('hero-chart', [trace], layout);
        }

        // Global Performance Chart
        function initializeGlobalPerformanceChart() {
            const assets = ['SPY', 'QQQ', 'DIA', 'VTI', 'EFA'];
            const returns = [0.85, 1.23, 0.67, 0.89, -0.34];
            const colors = returns.map(r => r >= 0 ? '#00d4aa' : '#ff6b6b');

            const trace = {
                x: assets,
                y: returns,
                type: 'bar',
                marker: {color: colors},
                text: returns.map(r => r > 0 ? `+${r}%` : `${r}%`),
                textposition: 'auto'
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false},
                yaxis: {showgrid: false, zeroline: false},
                margin: {l: 40, r: 40, t: 40, b: 40},
                showlegend: false
            };

            Plotly.newPlot('global-performance-chart', [trace], layout);
        }

        // Asset Allocation Chart
        function initializeAllocationChart() {
            const data = [{
                values: [40, 25, 20, 15],
                labels: ['Equities', 'Fixed Income', 'Commodities', 'Cash'],
                type: 'pie',
                marker: {
                    colors: ['#667eea', '#f093fb', '#43e97b', '#fa709a']
                },
                textinfo: 'label+percent',
                textfont: {color: '#ffffff'}
            }];

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                showlegend: false
            };

            Plotly.newPlot('allocation-chart', data, layout);
        }

        // Volatility Chart
        function initializeVolatilityChart() {
            const dates = Array.from({length: 30}, (_, i) => new Date(Date.now() - (29-i) * 24 * 60 * 60 * 1000));
            const volatility = dates.map(() => Math.random() * 0.05 + 0.01);

            const trace = {
                x: dates,
                y: volatility,
                type: 'scatter',
                mode: 'lines+markers',
                line: {color: '#ffd93d', width: 2},
                marker: {size: 4}
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false},
                yaxis: {showgrid: false, zeroline: false},
                margin: {l: 40, r: 40, t: 40, b: 40},
                showlegend: false
            };

            Plotly.newPlot('volatility-chart', [trace], layout);
        }

        // Correlation Matrix
        function initializeCorrelationChart() {
            const assets = ['SPY', 'QQQ', 'GLD', 'TLT', 'BTC'];
            const correlation = [
                [1.0, 0.95, 0.1, -0.3, 0.2],
                [0.95, 1.0, 0.05, -0.25, 0.25],
                [0.1, 0.05, 1.0, 0.1, 0.15],
                [-0.3, -0.25, 0.1, 1.0, -0.1],
                [0.2, 0.25, 0.15, -0.1, 1.0]
            ];

            const trace = {
                z: correlation,
                x: assets,
                y: assets,
                type: 'heatmap',
                colorscale: 'RdBu',
                zmid: 0
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('correlation-chart', [trace], layout);
        }

        // Strategy Performance Chart
        function initializeStrategyPerformanceChart() {
            const strategies = ['HFT', 'Mean Reversion', 'Momentum', 'Arbitrage', 'ML'];
            const returns = [12.5, 8.2, 15.3, 6.8, 18.7];
            const sharpe = [1.8, 1.2, 2.1, 0.9, 2.5];

            const trace1 = {
                x: strategies,
                y: returns,
                type: 'bar',
                name: 'Annual Return (%)',
                marker: {color: '#667eea'}
            };

            const trace2 = {
                x: strategies,
                y: sharpe,
                type: 'bar',
                name: 'Sharpe Ratio',
                marker: {color: '#f093fb'},
                yaxis: 'y2'
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false},
                yaxis: {showgrid: false, zeroline: false},
                yaxis2: {showgrid: false, zeroline: false, overlaying: 'y', side: 'right'},
                margin: {l: 40, r: 40, t: 40, b: 40},
                barmode: 'group'
            };

            Plotly.newPlot('strategy-performance-chart', [trace1, trace2], layout);
        }

        // Risk-Return Chart
        function initializeRiskReturnChart() {
            const strategies = ['HFT', 'Mean Reversion', 'Momentum', 'Arbitrage', 'ML'];
            const returns = [12.5, 8.2, 15.3, 6.8, 18.7];
            const risk = [8.5, 6.2, 12.1, 4.8, 15.3];

            const trace = {
                x: risk,
                y: returns,
                mode: 'markers+text',
                type: 'scatter',
                text: strategies,
                textposition: 'top center',
                marker: {
                    size: 15,
                    color: ['#667eea', '#f093fb', '#43e97b', '#fa709a', '#ffd93d']
                }
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {title: 'Risk (%)', showgrid: false},
                yaxis: {title: 'Return (%)', showgrid: false},
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('risk-return-chart', [trace], layout);
        }

        // Backtesting Chart
        function initializeBacktestingChart() {
            const dates = Array.from({length: 252}, (_, i) => new Date(2023, 0, 1 + i));
            const benchmark = dates.map((_, i) => 100 + i * 0.1 + Math.random() * 2);
            const strategy = dates.map((_, i) => 100 + i * 0.12 + Math.random() * 3);

            const trace1 = {
                x: dates,
                y: benchmark,
                type: 'scatter',
                mode: 'lines',
                name: 'Benchmark',
                line: {color: '#ffffff', width: 2}
            };

            const trace2 = {
                x: dates,
                y: strategy,
                type: 'scatter',
                mode: 'lines',
                name: 'Strategy',
                line: {color: '#667eea', width: 2}
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false},
                yaxis: {showgrid: false, zeroline: false},
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('backtesting-chart', [trace1, trace2], layout);
        }

        // Technical Analysis Chart
        function initializeTechnicalAnalysisChart() {
            const dates = Array.from({length: 50}, (_, i) => new Date(Date.now() - (49-i) * 24 * 60 * 60 * 1000));
            const prices = dates.map(() => Math.random() * 20 + 100);
            const sma20 = prices.map((_, i) => prices.slice(Math.max(0, i-19), i+1).reduce((a, b) => a + b, 0) / Math.min(20, i+1));

            const trace1 = {
                x: dates,
                y: prices,
                type: 'scatter',
                mode: 'lines',
                name: 'Price',
                line: {color: '#ffffff', width: 2}
            };

            const trace2 = {
                x: dates,
                y: sma20,
                type: 'scatter',
                mode: 'lines',
                name: 'SMA 20',
                line: {color: '#667eea', width: 2}
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false},
                yaxis: {showgrid: false, zeroline: false},
                margin: {l: 40, r: 40, t: 40, b: 40},
                showlegend: false
            };

            Plotly.newPlot('technical-analysis-chart', [trace1, trace2], layout);
        }

        // ML Predictions Chart
        function initializeMLPredictionsChart() {
            const dates = Array.from({length: 30}, (_, i) => new Date(Date.now() + i * 24 * 60 * 60 * 1000));
            const actual = dates.map(() => Math.random() * 10 + 100);
            const predicted = actual.map(v => v + (Math.random() - 0.5) * 5);

            const trace1 = {
                x: dates,
                y: actual,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Actual',
                line: {color: '#ffffff', width: 2}
            };

            const trace2 = {
                x: dates,
                y: predicted,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Predicted',
                line: {color: '#667eea', width: 2, dash: 'dash'}
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false},
                yaxis: {showgrid: false, zeroline: false},
                margin: {l: 40, r: 40, t: 40, b: 40},
                showlegend: false
            };

            Plotly.newPlot('ml-predictions-chart', [trace1, trace2], layout);
        }

        // Sector Analysis Chart
        function initializeSectorAnalysisChart() {
            const sectors = ['Technology', 'Healthcare', 'Finance', 'Energy', 'Consumer'];
            const performance = [15.2, 8.7, 12.3, -2.1, 6.8];

            const trace = {
                x: sectors,
                y: performance,
                type: 'bar',
                marker: {
                    color: performance.map(p => p >= 0 ? '#00d4aa' : '#ff6b6b')
                }
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {color: '#ffffff'},
                xaxis: {showgrid: false},
                yaxis: {showgrid: false, zeroline: false},
                margin: {l: 40, r: 40, t: 40, b: 40},
                showlegend: false
            };

            Plotly.newPlot('sector-analysis-chart', [trace], layout);
        }

        // Quiz System
        function initializeQuiz() {
            const questions = [
                {
                    question: "What is the Sharpe ratio used to measure?",
                    options: ["Risk-adjusted return", "Total return", "Volatility", "Beta"],
                    correct: 0
                },
                {
                    question: "What does VaR stand for in risk management?",
                    options: ["Value at Risk", "Volatility and Return", "Variable Asset Ratio", "Value Added Ratio"],
                    correct: 0
                },
                {
                    question: "What is the primary purpose of portfolio diversification?",
                    options: ["Maximize returns", "Reduce overall portfolio risk", "Increase volatility", "Minimize taxes"],
                    correct: 1
                }
            ];

            let currentQuestion = 0;

            function showQuestion() {
                const q = questions[currentQuestion];
                document.getElementById('quiz-question').textContent = q.question;
                
                const options = document.querySelectorAll('.quiz-option');
                options.forEach((option, index) => {
                    option.textContent = q.options[index];
                    option.onclick = () => checkAnswer(index);
                });
            }

            function checkAnswer(selected) {
                const q = questions[currentQuestion];
                const result = document.getElementById('quiz-result');
                
                if (selected === q.correct) {
                    result.className = 'alert alert-success';
                    result.textContent = '✅ Correct! Well done!';
                } else {
                    result.className = 'alert alert-danger';
                    result.textContent = `❌ Incorrect. The answer was: ${q.options[q.correct]}`;
                }
                
                result.style.display = 'block';
                
                setTimeout(() => {
                    currentQuestion = (currentQuestion + 1) % questions.length;
                    showQuestion();
                    result.style.display = 'none';
                }, 2000);
            }

            showQuestion();
        }

        // Financial Calculator
        function calculateCompound() {
            const principal = parseFloat(document.getElementById('initial-investment').value);
            const rate = parseFloat(document.getElementById('annual-return').value) / 100;
            const years = parseFloat(document.getElementById('years').value);
            
            const futureValue = principal * Math.pow(1 + rate, years);
            const totalReturn = futureValue - principal;
            const percentageReturn = (totalReturn / principal) * 100;
            
            document.getElementById('calculation-result').innerHTML = `
                <div class="alert alert-info">
                    <strong>Future Value:</strong> $${futureValue.toFixed(2)}<br>
                    <strong>Total Return:</strong> $${totalReturn.toFixed(2)}<br>
                    <strong>Percentage Return:</strong> ${percentageReturn.toFixed(2)}%
                </div>
            `;
        }

        // Update Market Stats
        function updateMarketStats() {
            const stats = {
                spy: (Math.random() - 0.5) * 4,
                btc: (Math.random() - 0.5) * 6,
                gold: (Math.random() - 0.5) * 2,
                tlt: (Math.random() - 0.5) * 1
            };

            document.getElementById('spy-value').textContent = `${stats.spy > 0 ? '+' : ''}${stats.spy.toFixed(2)}%`;
            document.getElementById('btc-value').textContent = `${stats.btc > 0 ? '+' : ''}${stats.btc.toFixed(2)}%`;
            document.getElementById('gold-value').textContent = `${stats.gold > 0 ? '+' : ''}${stats.gold.toFixed(2)}%`;
            document.getElementById('tlt-value').textContent = `${stats.tlt > 0 ? '+' : ''}${stats.tlt.toFixed(2)}%`;

            // Update colors
            document.getElementById('spy-value').className = `stat-value ${stats.spy >= 0 ? 'positive' : 'negative'}`;
            document.getElementById('btc-value').className = `stat-value ${stats.btc >= 0 ? 'positive' : 'negative'}`;
            document.getElementById('gold-value').className = `stat-value ${stats.gold >= 0 ? 'positive' : 'negative'}`;
            document.getElementById('tlt-value').className = `stat-value ${stats.tlt >= 0 ? 'positive' : 'negative'}`;
        }

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html> 